(this.webpackJsonpfermentationtracker=this.webpackJsonpfermentationtracker||[]).push([[0],{77:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var c=n(33),r=n(16),a=n.n(r),s=n(1),o=n(23),i=n(14),l=n(0),j=n.n(l),u=n(20),d=n.n(u),b=function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{className:"form-control",type:e.type,id:e.for,name:e.title,onChange:function(t){parseInt(t.target.value)&&parseInt(t.target.value)<0||e.onChange(t.target.value)},value:e.value,placeholder:e.title,required:!0,readOnly:!!e.readOnly&&e.readOnly}),Object(s.jsx)("br",{})]})},h=function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)("textarea",{class:"form-control",id:e.for,rows:"3",onChange:function(t){return e.onChange(t.target.value)},placeholder:e.title,value:e.value?e.value:null}),Object(s.jsx)("br",{})]})},O=n(24),f=n.n(O),m=n(94),p=n(92),x=n(93),g=n(95),v=n(97),y=n(96),C=n(89),w=n(52),P=n(90),S=n(91),k=n(98),E=n(22),N=n(25),B=n(8),T=(n(77),n(78),j.a.createContext([])),D=T.Provider,I=T.Consumer;function L(){var e=Object(l.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(l.useState)(!1),j=Object(i.a)(r,2),u=j[0],d=j[1],b=Object(l.useState)({}),h=Object(i.a)(b,2),O=h[0],m=h[1],p=n.filter((function(e){return!0===e.active})).length,x=n.filter((function(e){return!1===e.active})).length;function y(){return(y=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/fermentation/projects").then((function(e){c(e.data)})).catch((function(e){return console.log(e)}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.useEffect)((function(){!function(){y.apply(this,arguments)}()}),[]),Object(s.jsx)(N.a,{children:Object(s.jsxs)(D,{value:{projects:n,setProjects:c,setEdit:d},children:[Object(s.jsxs)(g.a,{bg:"light",expand:"lg",children:[Object(s.jsx)(g.a.Brand,{children:"Fermentation Tracker"}),Object(s.jsxs)(v.a,{className:"mr-auto",children:[Object(s.jsx)(v.a.Link,{children:Object(s.jsx)(N.b,{to:"/",children:"Project Form"})}),Object(s.jsx)(v.a.Link,{children:Object(s.jsxs)(N.b,{to:"/active",children:[p," Active Projects"]})}),Object(s.jsx)(v.a.Link,{children:Object(s.jsxs)(N.b,{to:"/archive",children:[x," Archived Projects"]})})]})]}),Object(s.jsxs)(B.c,{children:[Object(s.jsx)(B.a,{exact:!0,path:"/",component:function(){return Object(s.jsx)(H,{edit:u,selectedProject:O})}}),Object(s.jsx)(B.a,{exact:!0,path:"/active",component:function(){return Object(s.jsx)(_,{setSelectedProject:m,projectState:!0})}}),Object(s.jsx)(B.a,{exact:!0,path:"/archive",component:function(){return Object(s.jsx)(_,{projectState:!1})}})]})]})})}function H(e){var t=e.edit,n=e.selectedProject,r=Object(l.useContext)(I),j=[r.projects,r.setProjects,r.setEdit],u=j[0],d=j[1],O=j[2],m=Object(l.useState)(null),p=Object(i.a)(m,2),x=p[0],g=p[1],v=Object(l.useState)(null),S=Object(i.a)(v,2),k=S[0],N=S[1],B=Object(l.useState)(null),T=Object(i.a)(B,2),D=T[0],L=T[1],H=Object(l.useState)(null),_=Object(i.a)(H,2),A=_[0],M=_[1],z=Object(l.useState)(null),W=Object(i.a)(z,2),F=W[0],U=W[1],Y=Object(l.useState)(null),J=Object(i.a)(Y,2),q=J[0],R=J[1],G=Object(l.useState)(null),K=Object(i.a)(G,2),Q=K[0],V=K[1],X=Object(l.useState)(null),Z=Object(i.a)(X,2),$=Z[0],ee=Z[1],te=[{element:document.getElementById("project")},{element:document.getElementById("description")},{element:document.getElementById("weight")},{element:document.getElementById("salt")},{element:document.getElementById("time")}],ne=function(){return!0===function(){var e=!0;return te.forEach((function(e){return e.element.classList.remove("form-error")})),null===x&&(te[0].element.classList.add("form-error"),e=!1),null===k&&(te[1].element.classList.add("form-error"),e=!1),null===D&&(te[2].element.classList.add("form-error"),e=!1),null===A&&(te[3].element.classList.add("form-error"),e=!1),null===q&&(te[4].element.classList.add("form-error"),e=!1),e}()?{built:!0,newProject:{projectName:x,description:k,weight:D,saltPercentage:A,saltWeight:F,time:q,active:!0,notes:Q}}:(window.alert("Please fill out all of the fields!"),{built:!1})},ce=function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(n=ne()).built&&(se(n.newProject).then((function(e){return d([].concat(Object(c.a)(u),[e]))})),E.a.success("Project Added!",{position:"bottom-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0}),ae());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=ne(),console.log("EDIT BUTTON PRESSED"),n.built&&(oe($,n.newProject).then((function(e){return n.newProject._id=e})),r=u.findIndex((function(e){return e._id===$})),(s=Object(c.a)(u)).splice(r,1,n.newProject),d(s),ae(),E.a.success("Project Updated!",{position:"bottom-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){t&&(document.getElementById("formButton").innerHTML="Submit");te.forEach((function(e){return e.element.value=""})),te.forEach((function(e){return e.element.classList.remove("form-error")})),O(!1),g(null),N(null),L(null),M(null),R(null),V(null),ee(null)},se=function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("/fermentation/projects",t).then((function(e){n=e.data.addedProject})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(o.a)(a.a.mark((function e(t,n){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.patch("/fermentation/projects/update",{id:t,project:n}).then((function(e){return c=e.data.id})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",c);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){U((D*(A/100)).toFixed(2))}),[D,A]),Object(l.useEffect)((function(){t&&(document.getElementById("formButton").innerHTML="Submit Changes",g(n.projectName),N(n.description),L(n.weight),M(n.saltPercentage),R(n.time),V(n.notes),ee(n._id))}),[t]),Object(s.jsx)("div",{className:"section",children:Object(s.jsx)("div",{className:"box",children:Object(s.jsxs)(y.a,{id:"form",children:[Object(s.jsx)(y.a.Label,{className:"label",children:"Fermentation Tracker"}),Object(s.jsx)(C.a,{className:"mt-2",children:Object(s.jsx)(w.a,{children:Object(s.jsx)(b,{for:"project",type:"text",title:"Project Name",onChange:g,value:x})})}),Object(s.jsx)(C.a,{className:"mt-2",children:Object(s.jsx)(w.a,{children:Object(s.jsx)(b,{for:"description",type:"text",title:"Description",onChange:N,value:k})})}),Object(s.jsx)(C.a,{className:"mt-2",children:Object(s.jsx)(w.a,{children:Object(s.jsx)(b,{for:"weight",type:"number",title:"Dry Weight of Ferment (g)",onChange:L,value:D})})}),Object(s.jsx)(C.a,{className:"mt-2",children:Object(s.jsx)(w.a,{children:Object(s.jsx)(b,{for:"salt",type:"number",title:"Salt %",onChange:M,value:A})})}),Object(s.jsx)(C.a,{children:Object(s.jsxs)(w.a,{children:[Object(s.jsx)("label",{children:"Calculated Salt Weight (g)"}),Object(s.jsx)(b,{for:"saltWeight",type:"number",title:"Salt Weight (g)",value:F,readOnly:!0})]})}),Object(s.jsx)(C.a,{children:Object(s.jsxs)(w.a,{children:[Object(s.jsx)("label",{children:"Complete on"}),Object(s.jsx)(b,{for:"time",type:"date",title:"Complete on",onChange:R,value:q})]})}),Object(s.jsx)(C.a,{children:Object(s.jsxs)(w.a,{children:[Object(s.jsx)("label",{children:"Additional Notes?"}),Object(s.jsx)("br",{}),Object(s.jsx)(h,{for:"notes",type:"text",title:"Additional notes",onChange:V,value:Q})]})}),Object(s.jsxs)(C.a,{children:[Object(s.jsx)(w.a,{children:Object(s.jsx)(P.a,{size:"lg",type:"submit",id:"formButton",onClick:function(e){t?re(e):ce(e)},children:"Submit"})}),Object(s.jsx)(w.a,{children:t?Object(s.jsx)(P.a,{variant:"danger",size:"lg",onClick:function(){return ae(),void E.a.warning("Updates Canceled!",{position:"bottom-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0})},children:"Cancel changes"}):Object(s.jsx)(P.a,{variant:"danger",size:"lg",onClick:function(){return ae()},children:"Clear Form"})})]})]})})})}function _(e){var t=e.projectState,n=e.setSelectedProject,r=Object(l.useContext)(I),a=[r.projects,r.setProjects,r.setEdit],o=a[0],i=a[1],j=a[2],u=o.filter((function(e){return e.active===t})),d=function(e){if(!0===window.confirm("Mark project as completed?")){f.a.patch("/fermentation/projects",{id:e.target.id}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));var t=o.findIndex((function(t){return t._id===e.target.id}));o[t].active=!1,i(Object(c.a)(o)),E.a.success("Project moved to archive!",{position:"bottom-center",autoClose:4e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0})}},b=function(e){n(e),j(!0)},h=function(e){if(!0===window.confirm("Are you sure you want to delete this project?")){f.a.delete("/fermentation/projects",{data:{id:e.target.id}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));var t=o.filter((function(t){return t._id!==e.target.id}));i(t),E.a.success("Project Deleted!",{position:"bottom-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0})}};return Object(s.jsx)(S.a,{style:{height:"100rem"},children:Object(s.jsx)(C.a,{children:0===u.length?Object(s.jsx)(w.a,{className:"d-flex justify-content-center",children:Object(s.jsx)(M,{projectState:t})}):u.map((function(e){return Object(s.jsx)(A,{project:e,handleStatusChange:d,handleDelete:h,handleEditClick:b})}))})})}d.a.render(Object(s.jsx)(L,{}),document.getElementById("root")),E.a.configure();var A=function(e){var t=e.project,n=e.handleStatusChange,c=e.handleDelete,r=e.handleEditClick,a=Object(l.useState)(!1),o=Object(i.a)(a,2),j=o[0],u=o[1];return Object(l.useEffect)((function(){!function(e){var t=Object(m.a)(new Date,"yyyy-MM-dd"),n=Object(m.a)(Object(p.a)(e),"yyyy-MM-dd");Object(x.a)(Object(p.a)(t),Object(p.a)(n))<0&&u(!0)}(t.time)}),[]),Object(s.jsxs)(k.a,{className:"mt-4 ml-4",style:{width:"40rem"},children:[Object(s.jsxs)(k.a.Header,{children:[j&&t.active?Object(s.jsx)("i",{className:"fas fa-exclamation mr-4 mt-1",style:{color:"red",fontSize:"1.5rem"},title:"This project is past due!"}):null,Object(s.jsx)(k.a.Title,{className:"mt-1",children:t.projectName})]}),Object(s.jsxs)(k.a.Body,{children:[Object(s.jsxs)(k.a.Text,{className:"text-left project-details",children:[Object(s.jsx)("strong",{children:"Description:"})," ",t.description," ",Object(s.jsx)("br",{}),Object(s.jsx)("strong",{children:"Total Dry Weight (g):"})," ",t.weight," g ",Object(s.jsx)("br",{}),Object(s.jsx)("strong",{children:"Salt Percentage:"})," ",t.saltPercentage,"% ",Object(s.jsx)("br",{}),Object(s.jsx)("strong",{children:"Total Salt:"})," ",t.saltWeight," g ",Object(s.jsx)("br",{}),t.active?Object(s.jsxs)("div",{children:[Object(s.jsx)("strong",{children:"Complete on:"})," ",t.time,Object(s.jsx)("br",{})]}):Object(s.jsxs)("div",{children:[Object(s.jsx)("strong",{children:"Completed on:"})," ",t.time,Object(s.jsx)("br",{})]}),Object(s.jsx)("strong",{children:"Notes:"}),Object(s.jsx)("br",{})," ",""===t.notes?"N/A":t.notes]}),Object(s.jsxs)(C.a,{className:"mt-4",children:[Object(s.jsx)(w.a,{children:t.active?Object(s.jsx)(P.a,{size:"md",onClick:n,id:t._id,children:"Mark Project As Complete"}):null}),Object(s.jsx)(w.a,{children:Object(s.jsx)(P.a,{variant:"danger",size:"md",onClick:c,id:t._id,children:"Delete Project"})}),Object(s.jsx)(w.a,{children:t.active?Object(s.jsx)(N.b,{to:"/",children:Object(s.jsx)(P.a,{variant:"warning",size:"md",onClick:function(){return r(t)},id:t._id,children:"Edit This Project"})}):null})]})]})]},t._id)},M=function(e){var t=e.projectState;return Object(s.jsxs)(k.a,{id:"empty-card",children:[Object(s.jsx)(k.a.Header,{children:Object(s.jsxs)(k.a.Title,{className:"mt-2",children:["You haven't ",t?"added":"archived"," any projects yet!"]})}),Object(s.jsx)(k.a.Body,{children:Object(s.jsxs)(k.a.Text,{children:["This page will contain projects ",t?"you're currently working on!":"you've completed and archived!",". ",Object(s.jsx)("br",{}),t?"You can start tracking projects by filling out the form!":"You can complete and archive a project in the active projects screen!"]})})]})}}},[[85,1,2]]]);
//# sourceMappingURL=main.3dbe8571.chunk.js.map